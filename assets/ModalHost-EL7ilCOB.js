import{j as a}from"./jsx-runtime-C-_spy54.js";import{r as d}from"./index-B15s1MKD.js";import{i as we,m as J,c as S,a as H,I as Te,B as I}from"./IconButton-517FYYfc.js";import{D as Me,a as je}from"./LoadingIndicator-BKHM4zrS.js";import{c as u,a as N,g as q,u as L,s as g,l as x,d as $,S as X}from"./Stack-DrGCopUt.js";import{u as Ae,d as T}from"./useSlot-CrIsEobu.js";import{P as Z}from"./Paper-DqiRWCBd.js";import{F as P,M as Be,B as We,T as ee,C as Re}from"./Close-CR7m1xrj.js";import{B as Ie}from"./Box-CiQ7EFZj.js";function Se(e,t){if(!e)return t;if(typeof e=="function"||typeof t=="function")return n=>{const i=typeof t=="function"?t(n):t,s=typeof e=="function"?e({...n,...i}):e,l=u(n==null?void 0:n.className,i==null?void 0:i.className,s==null?void 0:s.className);return{...i,...s,...!!l&&{className:l},...(i==null?void 0:i.style)&&(s==null?void 0:s.style)&&{style:{...i.style,...s.style}}}};const o=u(t==null?void 0:t.className,e==null?void 0:e.className);return{...t,...e,...!!o&&{className:o},...(t==null?void 0:t.style)&&(e==null?void 0:e.style)&&{style:{...t.style,...e.style}}}}function Ne(e){return q("MuiDialog",e)}const O=N("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),te=d.createContext({}),qe=g(We,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Le=e=>{const{classes:t,scroll:o,maxWidth:n,fullWidth:i,fullScreen:s}=e,l={root:["root"],container:["container",`scroll${x(o)}`],paper:["paper",`paperScroll${x(o)}`,`paperWidth${x(String(n))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return $(l,Ne,t)},$e=g(Be,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),_e=g("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.container,t[`scroll${x(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Ee=g(Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`scrollPaper${x(o.scroll)}`],t[`paperWidth${x(String(o.maxWidth))}`],o.fullWidth&&t.paperFullWidth,o.fullScreen&&t.paperFullScreen]}})(J(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${O.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${O.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${O.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Fe=d.forwardRef(function(t,o){const n=L({props:t,name:"MuiDialog"}),i=Ae(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":r,"aria-modal":c=!0,BackdropComponent:p,BackdropProps:D,children:_,className:M,disableEscapeKeyDown:j=!1,fullScreen:k=!1,fullWidth:E=!1,maxWidth:m="sm",onBackdropClick:C,onClick:A,onClose:h,open:B,PaperComponent:W=Z,PaperProps:y={},scroll:R="paper",slots:ie={},slotProps:ne={},TransitionComponent:se=P,transitionDuration:Y=s,TransitionProps:re,...le}=n,v={...n,disableEscapeKeyDown:j,fullScreen:k,fullWidth:E,maxWidth:m,scroll:R},F=Le(v),z=d.useRef(),ce=b=>{z.current=b.target===b.currentTarget},de=b=>{A&&A(b),z.current&&(z.current=null,C&&C(b),h&&h(b,"backdropClick"))},U=we(r),pe=d.useMemo(()=>({titleId:U}),[U]),ue={transition:se,...ie},me={transition:re,paper:y,backdrop:D,...ne},w={slots:ue,slotProps:me},[fe,ge]=T("root",{elementType:$e,shouldForwardComponentProp:!0,externalForwardedProps:w,ownerState:v,className:u(F.root,M),ref:o}),[he,ye]=T("backdrop",{elementType:qe,shouldForwardComponentProp:!0,externalForwardedProps:w,ownerState:v}),[ve,be]=T("paper",{elementType:Ee,shouldForwardComponentProp:!0,externalForwardedProps:w,ownerState:v,className:u(F.paper,y.className)}),[xe,De]=T("container",{elementType:_e,externalForwardedProps:w,ownerState:v,className:u(F.container)}),[ke,Ce]=T("transition",{elementType:P,externalForwardedProps:w,ownerState:v,additionalProps:{appear:!0,in:B,timeout:Y,role:"presentation"}});return a.jsx(fe,{closeAfterTransition:!0,slots:{backdrop:he},slotProps:{backdrop:{transitionDuration:Y,as:p,...ye}},disableEscapeKeyDown:j,onClose:h,open:B,onClick:de,...ge,...le,children:a.jsx(ke,{...Ce,children:a.jsx(xe,{onMouseDown:ce,...De,children:a.jsx(ve,{as:W,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":U,"aria-modal":c,...be,children:a.jsx(te.Provider,{value:pe,children:_})})})})})});function ze(e){return q("MuiDialogActions",e)}N("MuiDialogActions",["root","spacing"]);const Ue=e=>{const{classes:t,disableSpacing:o}=e;return $({root:["root",!o&&"spacing"]},ze,t)},Oe=g("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ve=d.forwardRef(function(t,o){const n=L({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...l}=n,r={...n,disableSpacing:s},c=Ue(r);return a.jsx(Oe,{className:u(c.root,i),ownerState:r,ref:o,...l})});function Ke(e){return q("MuiDialogContent",e)}N("MuiDialogContent",["root","dividers"]);function Ye(e){return q("MuiDialogTitle",e)}const He=N("MuiDialogTitle",["root"]),Xe=e=>{const{classes:t,dividers:o}=e;return $({root:["root",o&&"dividers"]},Ke,t)},Pe=g("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})(J(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${He.root} + &`]:{paddingTop:0}}}]}))),Qe=d.forwardRef(function(t,o){const n=L({props:t,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...l}=n,r={...n,dividers:s},c=Xe(r);return a.jsx(Pe,{className:u(c.root,i),ownerState:r,ref:o,...l})}),Ge=e=>{const{classes:t}=e;return $({root:["root"]},Ye,t)},Je=g(ee,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Ze=d.forwardRef(function(t,o){const n=L({props:t,name:"MuiDialogTitle"}),{className:i,id:s,...l}=n,r=n,c=Ge(r),{titleId:p=s}=d.useContext(te);return a.jsx(Je,{component:"h2",className:u(c.root,i),ownerState:r,ref:o,variant:"h6",id:s??p,...l})}),et=S(a.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),tt=S(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Q=S(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),at=S(a.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),ae=d.forwardRef(({title:e,loading:t=!1,loadingOptions:o,showCloseIcon:n=!0,titleProps:i={},disableBackdropClick:s=!1,contentProps:l={},actionsProps:r={},onClose:c,onSubmit:p,submitButtonText:D="Submit",cancelButtonText:_="Cancel",customActions:M,children:j,...k},E)=>{var W;const[m,C]=d.useState(!1),A=(y,R)=>{R==="backdropClick"&&s||m||c==null||c(y,R)},h=y=>{m||c==null||c(y,"closeButtonClick")},B=async()=>{C(!0);try{await(p==null?void 0:p())}finally{C(!1)}};return a.jsxs(Fe,{ref:E,...k,onClose:A,slotProps:{...k.slotProps,paper:Se((W=k.slotProps)==null?void 0:W.paper,{sx:{borderRadius:4}})},children:[(e||n)&&a.jsxs(Ze,{color:"primary.main",...i,sx:H({display:"flex",justifyContent:"space-between",alignItems:"center"},i==null?void 0:i.sx),children:[a.jsx(Me,{sx:{flex:1},loading:t,children:e}),n&&a.jsx(Te,{"aria-label":"modal-close",onClick:h,disabled:m,sx:{color:"text.secondary"},size:"small",children:a.jsx(Re,{})})]}),a.jsx(Qe,{...l,dividers:(l==null?void 0:l.dividers)??!0,children:t?a.jsx(je,{...o}):j}),(p||M)&&a.jsx(Ve,{...r,sx:H({paddingX:3,paddingY:2},r==null?void 0:r.sx),children:M||a.jsxs(a.Fragment,{children:[a.jsx(I,{variant:"outlined",size:"medium",onClick:h,loading:t,disabled:m,sx:{minWidth:80},children:_}),a.jsx(I,{variant:"contained",size:"medium",onClick:B,loading:t||m,sx:{minWidth:80},children:D})]})})]})});ae.__docgenInfo={description:"`Modal` 是一個封裝好的對話框元件，提供了標題、內容、確定、取消等功能。\n\n參考 [Material-UI Dialog](https://mui.com/material-ui/react-dialog/)",methods:[],displayName:"GwModal",props:{title:{required:!1,tsType:{name:"string"},description:"The title of the dialog."},showCloseIcon:{required:!1,tsType:{name:"boolean"},description:"If `true`, will show the close icon button on the top-right corner.\n\n@default true",defaultValue:{value:"true",computed:!1}},titleProps:{required:!1,tsType:{name:"DialogTitleProps"},description:"The props of the title wrapper `DialogTitle` component.\n\nref: [DialogTitle API](https://mui.com/material-ui/api/dialog-title/)",defaultValue:{value:"{}",computed:!1}},disableBackdropClick:{required:!1,tsType:{name:"boolean"},description:"If `true`, disable clicking on the backdrop to close the modal.\n\n@default false",defaultValue:{value:"false",computed:!1}},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: object, reason: 'backdropClick' | 'escapeKeyDown' | 'closeButtonClick') => void",signature:{arguments:[{type:{name:"object"},name:"event"},{type:{name:"union",raw:"'backdropClick' | 'escapeKeyDown' | 'closeButtonClick'",elements:[{name:"literal",value:"'backdropClick'"},{name:"literal",value:"'escapeKeyDown'"},{name:"literal",value:"'closeButtonClick'"}]},name:"reason"}],return:{name:"void"}}},description:`Callback fired when the component requests to be closed.

@param event — The event source of the callback.
@param reason — Can be: "escapeKeyDown", "backdropClick", "closeButtonClick".`},contentProps:{required:!1,tsType:{name:"intersection",raw:`{
  /**
   * Display the top and bottom dividers.
   *
   * @default true
   */
  dividers?: boolean;
} & Omit<DialogContentProps, 'dividers'>`,elements:[{name:"signature",type:"object",raw:`{
  /**
   * Display the top and bottom dividers.
   *
   * @default true
   */
  dividers?: boolean;
}`,signature:{properties:[{key:"dividers",value:{name:"boolean",required:!1},description:`Display the top and bottom dividers.

@default true`}]}},{name:"Omit",elements:[{name:"DialogContentProps"},{name:"literal",value:"'dividers'"}],raw:"Omit<DialogContentProps, 'dividers'>"}]},description:"The props of the content wrapper `DialogContent` component.\n\nref: [DialogContent API](https://mui.com/material-ui/api/dialog-content/)",defaultValue:{value:"{}",computed:!1}},actionsProps:{required:!1,tsType:{name:"DialogActionsProps"},description:"The props of the actions wrapper `DialogActions` component.\n\nref: [DialogActions API](https://mui.com/material-ui/api/dialog-actions/)",defaultValue:{value:"{}",computed:!1}},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:"Callback fired when the submit button is clicked."},submitButtonText:{required:!1,tsType:{name:"string"},description:`The text of the submit button.

@default 'Submit'`,defaultValue:{value:"'Submit'",computed:!1}},cancelButtonText:{required:!1,tsType:{name:"string"},description:`The text of the cancel button.

@default 'Cancel'`,defaultValue:{value:"'Cancel'",computed:!1}},customActions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Custom actions component."},loading:{required:!1,tsType:{name:"boolean"},description:"If `true`, the modal will show loading effect.\n\n@default false",defaultValue:{value:"false",computed:!1}},loadingOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  /**
   * The Skeleton count.
   *
   * @default 3
   */
  count?: number;
  /**
   * Each Skeleton height.
   *
   * @default 40
   */
  height?: number;
}`,signature:{properties:[{key:"count",value:{name:"number",required:!1},description:`The Skeleton count.

@default 3`},{key:"height",value:{name:"number",required:!1},description:`Each Skeleton height.

@default 40`}]}},description:"The options of loading effect."}}};const oe=({okButtonText:e="OK",cancelButtonText:t="Cancel",open:o,onClose:n,onOk:i,title:s,children:l,type:r})=>{const[c,p]=d.useState(!1),D=async()=>{p(!0);try{await(i==null?void 0:i())}finally{p(!1)}};return a.jsx(ae,{open:o,onClose:n,showCloseIcon:!1,disableBackdropClick:!0,disableEscapeKeyDown:!0,contentProps:{dividers:!1},customActions:a.jsxs(a.Fragment,{children:[r==="confirm"&&a.jsx(I,{variant:"outlined",size:"medium",onClick:()=>n==null?void 0:n({},"closeButtonClick"),sx:{minWidth:80},disabled:c,children:t}),a.jsx(I,{variant:"contained",size:"medium",onClick:D,sx:{minWidth:80},loading:c,children:e})]}),children:a.jsxs(X,{direction:"row",spacing:1,children:[r==="info"&&a.jsx(Q,{sx:{color:"info.main"}}),r==="success"&&a.jsx(tt,{sx:{color:"success.main"}}),r==="error"&&a.jsx(et,{sx:{color:"error.main"}}),r==="warning"&&a.jsx(at,{sx:{color:"warning.main"}}),r==="confirm"&&a.jsx(Q,{sx:{color:"warning.main"}}),a.jsxs(X,{spacing:1,children:[s&&a.jsx(ee,{fontWeight:"bold",children:s}),a.jsx(Ie,{children:l})]})]})})};oe.__docgenInfo={description:"",methods:[],displayName:"ModalQuick",props:{type:{required:!0,tsType:{name:"union",raw:"'info' | 'success' | 'warning' | 'error' | 'confirm'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'success'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'error'"},{name:"literal",value:"'confirm'"}]},description:"The type of the modal."},onOk:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void | Promise<void>",signature:{arguments:[],return:{name:"union",raw:"void | Promise<void>",elements:[{name:"void"},{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}]}}},description:"Callback fired when the ok button is clicked."},okButtonText:{required:!1,tsType:{name:"string"},description:`The text of the ok button.

@default 'OK'`,defaultValue:{value:"'OK'",computed:!1}},cancelButtonText:{defaultValue:{value:"'Cancel'",computed:!1},required:!1}}};const ot=(e,t)=>{switch(t.type){case"ADD_MODAL":return{modals:[...e.modals,{...t.payload,modalId:new Date().valueOf(),open:!0}]};case"REMOVE_MODAL":return{modals:e.modals.filter(o=>o.modalId!==t.payload)};case"REMOVE_ALL_MODALS":return{modals:[]};default:return e}};let V={modals:[]};const K=new Set,G=()=>V,f=e=>{V=ot(V,e),K.forEach(t=>t())},it=()=>d.useSyncExternalStore(e=>(K.add(e),()=>K.delete(e)),G,G),nt=e=>{const{modals:t}=it();return a.jsx(a.Fragment,{children:t.map(({modalId:o,content:n,onOk:i,onClose:s,...l})=>a.jsx(oe,{...e,...l,onOk:async()=>{await(i==null?void 0:i()),f({type:"REMOVE_MODAL",payload:o})},onClose:()=>{s==null||s({},"closeButtonClick"),f({type:"REMOVE_MODAL",payload:o})},children:n},o))})},gt={info:e=>{f({type:"ADD_MODAL",payload:{...e,type:"info"}})},success:e=>{f({type:"ADD_MODAL",payload:{...e,type:"success"}})},warning:e=>{f({type:"ADD_MODAL",payload:{...e,type:"warning"}})},error:e=>{f({type:"ADD_MODAL",payload:{...e,type:"error"}})},confirm:e=>{f({type:"ADD_MODAL",payload:{...e,type:"confirm"}})}};nt.__docgenInfo={description:"",methods:[],displayName:"ModalHost"};export{et as C,Ve as D,ae as M,nt as a,Fe as b,Qe as c,O as d,Ze as e,Se as m,gt as o};
